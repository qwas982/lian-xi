'''
不限定扩展名, 处理所有类型的文件

现在，替换字符串方法会处理所有类型的文件，而不仅限于特定的扩展名。
os.path.isfile的判断条件已被简化，它只检查当前路径是否为文件，无论文件类型如何。
这样，所有的文件都会被遍历并进行相应的替换操作。
'''


import re
import os

class 文件替换器:
    def __init__(自身, 文件夹路径, 替换规则):
        自身.文件夹路径 = 文件夹路径
        自身.替换规则 = 替换规则

    def 替换字符串(自身):
        for 根目录, 子文件夹列表, 文件列表 in os.walk(自身.文件夹路径):
            for 文件名 in 文件列表:
                文件路径 = os.path.join(根目录, 文件名)

                if os.path.isfile(文件路径):
                    with open(文件路径, 'r', encoding='utf-8') as 文件:
                        内容 = 文件.read()

                    for 模式, 替换字符串 in 自身.替换规则.items():
                        内容 = re.sub(r'\b' + 模式 + r'\b', 替换字符串, 内容)

                    with open(文件路径, 'w', encoding='utf-8') as 文件:
                        文件.write(内容)

                    print(f"已替换文件：{文件路径}")

        print("替换完成！")

# 示例用法
文件夹路径 = "1"
替换规则 = {
    "TY_VOID": "类型_空的",
}

替换器 = 文件替换器(文件夹路径, 替换规则)
替换器.替换字符串()