# 这是我汉化的伯克利大学CS61A里的scheme解释器
``
作者: qwas982@163.com
2024年2月10日
``

因为其小巧和简单,并且真正让scheme程序运行起来了,所以引起我的兴趣,
我想要学习下如何实现一个解释器,
但是英文源码对我来说,要读懂里面的代码逻辑,我觉得很难,
所以我就从头到尾把它汉化了,为了方便我学习.


# 关于许可证

由于原项目没有许可证, 姑且假设其项目版权属于伯克利大学.

我纯手工输入中文汉字创造了一个中文版, 虽然是抄写, 但不是在原始文件上改写.
所以我将我复制的这一份命名为<<树枝>> , 采用[木兰许可证] .

# 特别说明

原项目并未提供对中文汉字的支持,也就是说scheme解释器无法识别中文汉字,
所以我给它的词法分析,也就是其REPL的读取部分增加了识别中文汉字标识符的功能.
原项目只是半成品, 最终能完整运行是借由抄写GitHub上的答案,填充缺失的部分,让解释器完整.
我抄写的过程中,并不是one by one地抄写, 有些地方我有改动, 压缩的代码,我也展开来写, 为了极限简化易读易懂.
我调试后,发现异常没有正常工作,不知道哪里的问题,我排查过很多遍,找不到,
可能还是底层与ASCII绑定的原因.因为调试原项目就没这个问题.

# 一些自己的理解与读后感

总的来说, 原项目有很多部分显得过于啰嗦, 我汉化后,总代码行数1500行Python, 
但是我认为实现lisp解释器的核心逻辑应该不需要500行, 而别的功能可以在scheme本身上写成库或模块,
别说R7RS,就算是R5RS R1RS的scheme,大部分人平常都用不到.
这个版本的解释器甚至实现了尾递归优化, 宏, 我认为对于大多数日常编程情况,都完全可以解决了,
比如写个计算器, 日历, 天气, Excel编程, 闹钟什么的,都是大材小用.
RnRS完全就是为了工业化编程需求而制定的.

# 怎么用?

安装Python

在命令行或终端里输入: Python 树枝.py
即可进入REPL-读求值印环.

输入: Python 树枝牌.py
进入词法分析.

输入: Python 树枝读.py
进入句法分析.

使用Ctrl+Z退出.